# ############################################################################
# Configuration yaml file of the Thevenin Equivalent Circuit used to model the
# behaviour of the battery dynamic.
# ----------------------------------------------------------------------------
# How is it made up of?
#   - OCV Generator
#   - R0 Resistor
#   - RC Parallel
# ############################################################################

type: electrical
class_name: SecondOrderThevenin

# ----------------------------------------------------------------------------
# Components can be instantiated in 3 different ways:
#   1. Constant: the component is conceived as a scalar float value
#   2. Function: the component is conceived as a parametric function
#   3. Lookup: the component is derived from a lookup table with an
#              interpolation between the table variables
# ----------------------------------------------------------------------------
components:
  r0:
    selected_type: lookup

    scalar: 10.
    # function: To be implemented, maybe useless!
    lookup:
      table: "lookup_module_2exp.csv"
      inputs:
        - var: "temperature"
          label: "temp"
          unit: "degC"
        - var: "soc"
          label: "soc"
          unit: null
        - var: "soh"
          label: "soh"
          unit: null
      output:
        var: "resistance"
        label: "r0"
        unit: "ohm"

  r1:
    selected_type: lookup

    scalar: 10.
    # function: To be implemented, maybe useless!
    lookup:
      table: "lookup_module_2exp.csv"
      inputs:
        - var: "temperature"
          label: "temp"
          unit: "degC"
        - var: "soc"
          label: "soc"
          unit: null
        - var: "soh"
          label: "soh"
          unit: null
      output:
        var: "resistance"
        label: "r1"
        unit: "ohm"

  c1:
    selected_type: lookup

    scalar: 10.
    # function: To be implemented, maybe useless!
    lookup:
      table: "lookup_module_2exp.csv"
      inputs:
        - var: "temperature"
          label: "temp"
          unit: "degC"
        - var: "soc"
          label: "soc"
          unit: null
        - var: "soh"
          label: "soh"
          unit: null
      output:
        var: "capacity"
        label: "c1"
        unit: "F"

  r2:
    selected_type: lookup

    scalar: 10.
    # function: To be implemented, maybe useless!
    lookup:
      table: "lookup_module_2exp.csv"
      inputs:
        - var: "temperature"
          label: "temp"
          unit: "degC"
        - var: "soc"
          label: "soc"
          unit: null
        - var: "soh"
          label: "soh"
          unit: null
      output:
        var: "resistance"
        label: "r2"
        unit: "ohm"

  c2:
    selected_type: lookup

    scalar: 10.
    # function: To be implemented, maybe useless!
    lookup:
      table: "lookup_module_2exp.csv"
      inputs:
        - var: "temperature"
          label: "temp"
          unit: "degC"
        - var: "soc"
          label: "soc"
          unit: null
        - var: "soh"
          label: "soh"
          unit: null
      output:
        var: "capacity"
        label: "c2"
        unit: "F"

  v_ocv:
    selected_type: lookup

    scalar: 10.
    # function: To be implemented, maybe useless!
    lookup:
      table: "lookup_module_2exp.csv"
      inputs:
        - var: "temperature"
          label: "temp"
          unit: "degC"
        - var: "soc"
          label: "soc"
          unit: null
        - var: "soh"
          label: "soh"
          unit: null
      output:
        var: "voltage"
        label: "voc"
        unit: "V"
